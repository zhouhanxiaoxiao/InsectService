(function(e){function t(t){for(var n,i,o=t[0],l=t[1],c=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},s={app:0},r=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"0db6":function(e,t,a){},"39b9":function(e,t,a){"use strict";a("8a9a")},4678:function(e,t,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id="4678"},"562c":function(e,t,a){"use strict";a("6986")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("d3b7"),a("ac1f"),a("5319");var n=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("transition",{attrs:{name:"fade"}},[a("router-view")],1)],1)},r=[],i={name:"App",components:{},beforeMount:function(){this.resetUser()},methods:{resetUser:function(){this.$store.commit("saveUser",this.$cookies.get("user"))}}},o=i,l=(a("034f"),a("2877")),c=Object(l["a"])(o,s,r,!1,null,null,null),u=c.exports,d=a("8c4f"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"100%"}},[a("a-card",{staticClass:"loginCard",attrs:{title:"login",hoverable:""}},[a("a-form-model",{ref:"userForm",attrs:{model:e.user,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-form-model-item",{ref:"name",attrs:{label:e.$t("email"),prop:"email"}},[a("a-input",{model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),a("a-form-model-item",{ref:"password",attrs:{label:e.$t("password"),prop:"password"}},[a("a-input-password",{model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1)],1),a("a-button",{attrs:{type:"primary",block:""},on:{click:e.login}},[e._v(" "+e._s(e.$t("login"))+" ")])],1)],1)},m=[],f=a("a925"),h={confirm:"确定",edit:"编辑",showImages:"图片",logintimeover:"登录已过期，请重新登录！",exit:"退出",user:{manager:"用户管理",name:"用户名",email:"邮箱",userstatus:"用户状态",roletype:"角色",add:"新增用户",stop:"禁用",normal:"正常",sureStop:"您确定要禁用此用户吗？",startUse:"启用",password:"密码",admin:"管理员",operator:"操作员",exist:"用户邮箱已存在！"},recognition:{recImage:"已识别图片",defaultImage:"系统图片",type:"请选择昆虫类别",noFind:"未识别管理",yesFind:"已识别管理",add:"新增",manager:"识别管理"},insect:{noImages:"没有可预览的图片",type:"类别",name:"名称",description:"描述",feature:"形态特征",biofeature:"生物学特性",economic:"经济意义",distributed:"分布",manager:"昆虫管理",add:"新增",typeManager:"种类管理",typeExist:"此分类已存在！",domain:"域",kingdom:"界",phylum:"门",class:"纲",order:"目",family:"科",genus:"属",species:"种"},statistics:{manager:"统计"},err:{passwordErr:"密码错误！",nouser:"用户不存在！",enterForm:"请填写完整表单!",systemErr:"系统异常！",placeEnter:"请输入"}},g=h,b={},v=b;n["a"].use(f["a"]);var y=new f["a"]({locale:localStorage.getItem("local")||"zh",messages:{zh:g,en:v}}),w=y,k=a("f64c"),j={SUCCESS:"success",catchErr:function(e){console.log(e),this.error("err.systemErr")},error:function(e){k["a"].error(w.t(e))}},$=j,x={name:"login",data:function(){return{labelCol:{span:6},wrapperCol:{span:16},user:{email:"",password:""}}},methods:{login:function(){var e=this;this.$refs.userForm.validate((function(t){if(t){var a={user:JSON.stringify(e.user)};e.$axios.post("/login",a).then((function(t){"success"===t.data.code?(e.$cookies.set("token",t.data.retMap.token,"1d"),e.$cookies.set("user",t.data.retMap.user,"1d"),e.$store.commit("saveUser",t.data.retMap.user),e.$router.push("/home")):$.error(t.data.code)})).catch((function(e){console.log(e),$.error("err.enterForm")}))}else e.$message.error(e.$t("err.enterForm"))}))}},computed:{rules:function(){return{email:[{required:!0,message:"Please input email",trigger:"blur"}],password:[{required:!0,message:"Please input password",trigger:"blur"}]}}}},_=x,S=(a("562c"),Object(l["a"])(_,p,m,!1,null,"74308cf0",null)),I=S.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"100%",height:"100vh"}},[a("a-layout",{staticStyle:{height:"100vh"},attrs:{id:"components-layout-demo-custom-trigger"}},[a("a-layout-sider",{attrs:{trigger:null,collapsible:""},model:{value:e.collapsed,callback:function(t){e.collapsed=t},expression:"collapsed"}},[a("div",{staticClass:"logo"},[e._v(" "+e._s("hello,"+e.userName)+" ")]),a("a-menu",{attrs:{theme:"dark",mode:"inline",defaultSelectedKeys:["user"]},on:{click:e.changeMenu}},[a("a-menu-item",{key:"user"},[a("a-icon",{attrs:{type:"user"}}),a("span",[e._v(e._s(e.$t("user.manager")))])],1),a("a-menu-item",{key:"insect"},[a("a-icon",{attrs:{type:"bug"}}),a("span",[e._v(e._s(e.$t("insect.manager")))])],1),a("a-sub-menu",{key:"recognition"},[a("span",{attrs:{slot:"title"},slot:"title"},[a("a-icon",{attrs:{type:"video-camera"}}),a("span",[e._v(e._s(e.$t("recognition.manager")))])],1),a("a-menu-item",{key:"noReco"},[a("a-icon",{attrs:{type:"question-circle"}}),a("span",[e._v(e._s(e.$t("recognition.noFind")))])],1),e._l(e.allAnimal,(function(t){return a("a-menu-item",{key:"animal-"+t.id},[a("a-icon",{attrs:{type:"check-circle"}}),a("span",[e._v(e._s(t.name))])],1)}))],2),a("a-menu-item",{key:"statistics"},[a("a-icon",{attrs:{type:"area-chart"}}),a("span",[e._v(e._s(e.$t("statistics.manager")))])],1)],1)],1),a("a-layout",[a("a-layout-header",{staticStyle:{background:"#fff",padding:"0"}},[a("a-icon",{staticClass:"trigger",attrs:{type:e.collapsed?"menu-unfold":"menu-fold"},on:{click:function(){return e.collapsed=!e.collapsed}}}),a("div",{staticStyle:{display:"inline-block",float:"right"}},[a("language",{staticStyle:{display:"inline-block"}}),a("a-button",{staticStyle:{display:"inline-block",margin:"0px 10px"},on:{click:e.exit}},[e._v(e._s(e.$t("exit")))])],1)],1),a("a-layout-content",{staticClass:"content-main",style:{margin:"24px 16px",padding:"24px",background:"#fff",minHeight:"280px"}},["user"===e.menu?a("user-manager"):e._e(),"insect"===e.menu?a("insectmain"):e._e(),"noReco"===e.menu?a("no-recogintion"):e._e(),"animal"===e.menu?a("recognition",{attrs:{animals:e.allAnimal,"animal-id":e.animalId}}):e._e()],1)],1)],1)],1)},U=[],E=(a("2ca0"),a("b0c0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"language-select"},[a("div",{staticClass:"btn-group btn-group-sm btn-group-toggle",attrs:{"data-toggle":"buttons"}},[a("label",{staticClass:"btn btn-link active"},[a("input",{attrs:{type:"radio",name:"options",id:"option1",checked:""},on:{click:function(t){return e.changeLanguage("zh")}}}),e._v(" 中文 ")]),e._m(0),a("label",{staticClass:"btn btn-link"},[a("input",{attrs:{type:"radio",name:"options",id:"option3"},on:{click:function(t){return e.changeLanguage("en")}}}),e._v(" English ")])])])}),P=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"btn btn-link"},[a("input",{attrs:{type:"radio",name:"options"}}),e._v(" | ")])}],T={name:"language",methods:{changeLanguage:function(e){localStorage.setItem("local",e),window.location.reload()}}},F=T,A=Object(l["a"])(F,E,P,!1,null,"3ef7452f",null),M=A.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"},attrs:{title:e.$t("user.manager")}},[a("template",{slot:"extra"},[a("a-button",{key:"1",attrs:{type:"primary"},on:{click:function(t){e.showAdd=!0}}},[e._v(" "+e._s(e.$t("user.add"))+" ")])],1)],2),a("a-table",{attrs:{columns:e.columns,"data-source":e.users,bordered:""},scopedSlots:e._u([{key:"filterDropdown",fn:function(t){var n=t.setSelectedKeys,s=t.selectedKeys,r=t.confirm,i=t.clearFilters,o=t.column;return a("div",{staticStyle:{padding:"8px"}},[a("a-input",{directives:[{name:"ant-ref",rawName:"v-ant-ref",value:function(t){return e.searchInput=t},expression:"c => (searchInput = c)"}],staticStyle:{width:"188px","margin-bottom":"8px",display:"block"},attrs:{placeholder:"Search "+o.dataIndex,value:s[0]},on:{change:function(e){return n(e.target.value?[e.target.value]:[])},pressEnter:function(){return e.handleSearch(s,r,o.dataIndex)}}}),a("a-button",{staticStyle:{width:"90px","margin-right":"8px"},attrs:{type:"primary",icon:"search",size:"small"},on:{click:function(){return e.handleSearch(s,r,o.dataIndex)}}},[e._v(" Search ")]),a("a-button",{staticStyle:{width:"90px"},attrs:{size:"small"},on:{click:function(){return e.handleReset(i)}}},[e._v(" Reset ")])],1)}},{key:"filterIcon",fn:function(e){return a("a-icon",{style:{color:e?"#108ee9":void 0},attrs:{type:"search"}})}},e._l(e.colNames,(function(t){return{key:t,fn:function(n,s){return[a("div",{key:t},["roletype"===t?a("a-select",{staticStyle:{width:"120px"},on:{change:function(t){return e.handleChangeRole(s)}},model:{value:s[t],callback:function(a){e.$set(s,t,a)},expression:"record[col]"}},[a("a-select-option",{attrs:{value:"admin"}},[e._v(" "+e._s(e.$t("user.admin"))+" ")]),a("a-select-option",{attrs:{value:"operator"}},[e._v(" "+e._s(e.$t("user.operator"))+" ")])],1):"userstatus"===t?a("div",["01"===s[t]?a("a-tag",{attrs:{color:"#87d068"}},[e._v(" "+e._s(e.$t("user.normal"))+" ")]):"09"===s[t]?a("a-tag",{attrs:{color:"#f50"}},[e._v(" "+e._s(e.$t("user.stop"))+" ")]):e._e()],1):a("div",[e._v(" "+e._s(n)+" ")])],1)]}}})),{key:"operation",fn:function(t,n){return["01"===n.userstatus?a("a-popconfirm",{attrs:{title:e.$t("user.sureStop")},on:{confirm:function(){return e.stopUser(n)}}},[a("a",{attrs:{href:"javascript:;"}},[e._v(e._s(e.$t("user.stop")))])]):e._e(),e._v(" "),"09"===n.userstatus?a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.startUser(n)}}},[e._v(" "+e._s(e.$t("user.startUse"))+" ")]):e._e()]}}],null,!0)}),a("a-modal",{attrs:{title:"Title",visible:e.showAdd},on:{ok:e.submitNewUser,cancel:function(t){e.showAdd=!1}}},[a("a-form-model",{ref:"addNewUser",attrs:{model:e.newUser,rules:e.rules,"label-col":{span:6},"wrapper-col":{span:14}}},[a("a-form-model-item",{ref:"name",attrs:{label:e.$t("user.name"),prop:"name"}},[a("a-input",{model:{value:e.newUser.name,callback:function(t){e.$set(e.newUser,"name",t)},expression:"newUser.name"}})],1),a("a-form-model-item",{ref:"email",attrs:{label:e.$t("user.email"),prop:"email"}},[a("a-input",{model:{value:e.newUser.email,callback:function(t){e.$set(e.newUser,"email",t)},expression:"newUser.email"}})],1),a("a-form-model-item",{ref:"password",attrs:{label:e.$t("user.password"),prop:"password"}},[a("a-input",{model:{value:e.newUser.password,callback:function(t){e.$set(e.newUser,"password",t)},expression:"newUser.password"}})],1),a("a-form-model-item",{ref:"roletype",attrs:{label:e.$t("user.roletype"),prop:"roletype"}},[a("a-select",{model:{value:e.newUser.roletype,callback:function(t){e.$set(e.newUser,"roletype",t)},expression:"newUser.roletype"}},[a("a-select-option",{attrs:{value:"admin"}},[e._v(" "+e._s(e.$t("user.admin"))+" ")]),a("a-select-option",{attrs:{value:"operator"}},[e._v(" "+e._s(e.$t("user.operator"))+" ")])],1)],1)],1)],1),a("v-loading",{attrs:{show:e.loading}})],1)},z=[],L=(a("caad"),a("2532"),a("25f0"),a("d81d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isShow?a("div",{staticClass:"loading"},[a("div",{staticStyle:{display:"inline-block",width:"20%","margin-top":"20px"}},[a("a-alert",{attrs:{message:"加载中...."}})],1),a("svg",{staticClass:"svg-container"},[a("path",{attrs:{id:"pulsar",stroke:"rgba(0,155,155,1)",fill:"none","stroke-width":"3","stroke-linejoin":"round",d:"M0,90L250,90Q257,60 262,87T267,95 270,88 273,92t6,35 7,-60T290,127 297,107s2,-11 10,-10 1,1 8,-10T319,95c6,4 8,-6 10,-17s2,10 9,11h210"}})])]):e._e()}),R=[],q={name:"v-loading",props:{show:Boolean},beforeMount:function(){this.isShow=this.show},data:function(){return{isShow:!1}},watch:{show:function(e){console.log(e),this.isShow=e}}},N=q,D=(a("6fa9"),Object(l["a"])(N,L,R,!1,null,"6b091569",null)),V=D.exports,J={name:"userManager",components:{VLoading:V},data:function(){return{searchText:"",searchInput:null,searchedColumn:"",columns:[],users:[],colNames:[],loading:!1,showAdd:!1,newUser:{name:"",email:"",password:"",roletype:"operator"},rules:{email:[{required:!0,type:"email",message:"Please input email",trigger:"blur"}],password:[{required:!0,message:"Please input password",trigger:"blur"}],name:[{required:!0,message:"Please input name",trigger:"blur"}],roletype:[{required:!0,message:"Please input role type",trigger:"blur"}]}}},beforeMount:function(){this.initPage()},methods:{submitNewUser:function(){var e=this,t=this;this.$refs.addNewUser.validate((function(a){if(a){t.loading=!0;var n={user:JSON.stringify(e.newUser)};t.$axios.post("/admin/user/addNew",n).then((function(e){t.loading=!1,e.data.code===$.SUCCESS?(t.showAdd=!1,t.newUser={name:"",email:"",password:"",roletype:"operator"},t.initPage()):$.error(e.data.code)})).catch((function(e){t.loading=!1,$.catchErr(e)}))}else $.error("err.enterForm")}))},startUser:function(e){e.userstatus="01",this.handleChangeRole(e)},stopUser:function(e){e.userstatus="09",this.handleChangeRole(e)},handleChangeRole:function(e){var t={user:JSON.stringify(e)};this.loading=!0;var a=this;this.$axios.post("/admin/user/update",t).then((function(e){a.loading=!1,e.data.code===$.SUCCESS?a.initPage():$.error(e.data.code)})).catch((function(e){a.loading=!1,$.catchErr(e)}))},handleSearch:function(e,t,a){t(),this.searchText=e[0],this.searchedColumn=a},handleReset:function(e){e(),this.searchText=""},initPage:function(){this.initCols(),this.loading=!0;var e=this;this.$axios.post("/admin/user/initPage").then((function(t){console.log(t),e.loading=!1,t.data.code===$.SUCCESS?e.users=t.data.retMap.users:$.error(t.data.code)})).catch((function(t){e.loading=!1,console.log(t),$.error("err.systemErr")}))},initCols:function(){var e=this,t=new Array;t.push({title:this.$t("user.name"),dataIndex:"name",key:"name",scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"name"},onFilter:function(e,t){return t.name.toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){e.searchInput.focus()}),0)}}),t.push({title:this.$t("user.email"),dataIndex:"email",key:"email",scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"email"},onFilter:function(e,t){return t.email.toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){e.searchInput.focus()}),0)}}),t.push({title:this.$t("user.userstatus"),dataIndex:"userstatus",key:"userstatus",scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"userstatus"},onFilter:function(e,t){return t.userstatus.toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){e.searchInput.focus()}),0)}}),t.push({title:this.$t("user.roletype"),dataIndex:"roletype",key:"roletype",scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"roletype"},onFilter:function(e,t){return t.roletype.toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){e.searchInput.focus()}),0)}});var a=new Array;t.map((function(e){a.push(e.dataIndex)})),this.colNames=a,t.push({title:"operation",dataIndex:"operation",scopedSlots:{customRender:"operation"}}),this.columns=t}}},B=J,H=Object(l["a"])(B,O,z,!1,null,"66085a68",null),K=H.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-tabs",{attrs:{type:"card"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("a-tab-pane",{key:"manager",attrs:{tab:e.$t("insect.manager")}},[a("insect-manager")],1),a("a-tab-pane",{key:"type",attrs:{tab:e.$t("insect.typeManager")}},[a("insect-type")],1)],1)],1)},Q=[],W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"},attrs:{title:e.$t("insect.manager")}},[a("template",{slot:"extra"},[a("a-button",{key:"1",attrs:{type:"primary"},on:{click:function(t){return e.showAlert("add")}}},[e._v(" "+e._s(e.$t("insect.add"))+" ")])],1)],2),a("a-table",{attrs:{columns:e.columns,"data-source":e.insects,bordered:""},scopedSlots:e._u([{key:"typeid",fn:function(t){return a("div",{},[e._v(e._s(e.showType(t)))])}},{key:"operation",fn:function(t,n){return[a("a-button",{staticStyle:{margin:"2px 2px"},attrs:{size:"small"},on:{click:function(t){return e.editInsect(n)}}},[e._v(e._s(e.$t("edit")))]),a("a-button",{staticStyle:{margin:"2px 2px"},attrs:{size:"small"},on:{click:function(t){return e.showImage(n.id)}}},[e._v(e._s(e.$t("showImages")))])]}}])}),a("a-modal",{attrs:{title:e.$t("insect.add"),visible:e.showAdd},on:{ok:e.submitInsect,cancel:function(t){e.showAdd=!1}}},[a("a-form-model",{ref:"insectForm",attrs:{model:e.newInsect,rules:e.rules,"label-col":{span:6},"wrapper-col":{span:16}}},[a("a-form-model-item",{ref:"name",attrs:{label:e.$t("insect.name"),prop:"name"}},[a("a-input",{model:{value:e.newInsect.name,callback:function(t){e.$set(e.newInsect,"name",t)},expression:"newInsect.name"}})],1),a("a-form-model-item",{ref:"typeid",attrs:{label:e.$t("insect.type"),prop:"typeid"}},[a("a-select",{model:{value:e.newInsect.typeid,callback:function(t){e.$set(e.newInsect,"typeid",t)},expression:"newInsect.typeid"}},e._l(e.types,(function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id}},[e._v(" "+e._s(t.vclass+"-"+t.vorder+t.vfamily+"-"+t.vgenus+"-"+t.vspecies)+" ")])})),1)],1),a("a-form-model-item",{ref:"description",attrs:{label:e.$t("insect.description"),prop:"description"}},[a("a-textarea",{model:{value:e.newInsect.description,callback:function(t){e.$set(e.newInsect,"description",t)},expression:"newInsect.description"}})],1),a("a-form-model-item",{ref:"feature",attrs:{label:e.$t("insect.feature"),prop:"feature"}},[a("a-textarea",{attrs:{rows:2},model:{value:e.newInsect.feature,callback:function(t){e.$set(e.newInsect,"feature",t)},expression:"newInsect.feature"}})],1),a("a-form-model-item",{ref:"biofeature",attrs:{label:e.$t("insect.biofeature"),prop:"biofeature"}},[a("a-textarea",{attrs:{rows:2},model:{value:e.newInsect.biofeature,callback:function(t){e.$set(e.newInsect,"biofeature",t)},expression:"newInsect.biofeature"}})],1),a("a-form-model-item",{ref:"economic",attrs:{label:e.$t("insect.economic"),prop:"economic"}},[a("a-textarea",{attrs:{rows:2},model:{value:e.newInsect.economic,callback:function(t){e.$set(e.newInsect,"economic",t)},expression:"newInsect.economic"}})],1),a("a-form-model-item",{ref:"distributed",attrs:{label:e.$t("insect.distributed"),prop:"distributed"}},[a("a-textarea",{attrs:{rows:2},model:{value:e.newInsect.distributed,callback:function(t){e.$set(e.newInsect,"distributed",t)},expression:"newInsect.distributed"}})],1)],1),a("div",{staticClass:"clearfix"},[a("a-upload",{attrs:{action:e.uploadFile,"list-type":"picture-card","file-list":e.fileList,name:"file"},on:{preview:e.handlePreview,change:e.handleChange}},[a("div",[a("a-icon",{attrs:{type:"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v(" Upload ")])],1)]),a("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:e.handleCancel}},[a("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.previewImage}})])],1)],1),a("a-modal",{attrs:{title:e.$t("showImages"),visible:e.showImageFlag,footer:null},on:{cancel:function(t){e.showImageFlag=!1}}},[a("a-carousel",{staticStyle:{"margin-bottom":"60px"},attrs:{arrows:"","dots-class":"slick-dots slick-thumb"},scopedSlots:e._u([{key:"customPaging",fn:function(t){return a("a",{},[a("img",{attrs:{src:e.imageUrl(e.images[t.i].id)}})])}}])},e._l(e.images.length,(function(t){return a("div",{key:t},[a("img",{attrs:{src:e.imageUrl(e.images[t-1].id)}})])})),0)],1),a("v-loading",{attrs:{show:e.loading}})],1)},X=[],Y=a("1da1"),Z=(a("96cf"),a("4de4"),{name:"insectManager",components:{VLoading:V},data:function(){return{defaultFileList:[],showAdd:!1,insects:[],types:[],columns:[],alertFlag:"",loading:!1,images:[],showImageFlag:!1,newInsect:{name:"",typeid:"",description:"",feature:"",biofeature:"",economic:"",distributed:""},rules:{name:[{required:!0,message:this.$t("err.placeEnter")+this.$t("insect.name"),trigger:"blur"}],typeid:[{required:!0,message:this.$t("err.placeEnter")+this.$t("insect.type"),trigger:"blur"}],description:[{required:!0,message:this.$t("err.placeEnter")+this.$t("insect.description"),trigger:"blur"}],feature:[{required:!0,message:this.$t("err.placeEnter")+this.$t("insect.feature"),trigger:"blur"}],biofeature:[{required:!0,message:this.$t("err.placeEnter")+this.$t("insect.biofeature"),trigger:"blur"}],economic:[{required:!0,message:this.$t("err.placeEnter")+this.$t("insect.economic"),trigger:"blur"}],distributed:[{required:!0,message:this.$t("err.placeEnter")+this.$t("insect.distributed"),trigger:"blur"}]},previewVisible:!1,previewImage:"",fileList:[]}},beforeMount:function(){this.initPage()},methods:{showImage:function(e){var t={detailId:e};this.loading=!0;var a=this;this.$axios.post("/admin/insect/showImages",t).then((function(e){a.loading=!1,e.data.code===$.SUCCESS?(a.images=e.data.retMap.images,a.showImageFlag=!0):$.error(e.data.code)})).catch((function(e){a.loading=!1,$.catchErr(e)}))},imageUrl:function(e){return this.$axios.defaults.baseURL+"/file/image/"+e},editInsect:function(e){this.alertFlag="edit",this.newInsect=e,this.showAdd=!0},showType:function(e){var t=this.types.filter((function(t){return t.id=e})),a=t[0];return a.vdomain+"-"+a.vkingdom+"-"+a.vphylum+"-"+a.vclass+"-"+a.vorder+a.vfamily+"-"+a.vgenus+"-"+a.vspecies},submitInsect:function(){var e=this;this.$refs.insectForm.validate((function(t){if(t){var a=new Array;e.fileList.map((function(e){a.push(e.response.id)}));var n={inesct:JSON.stringify(e.newInsect),fileIds:JSON.stringify(a),alertFlag:e.alertFlag};e.loading=!0,e.$axios.post("/admin/insect/addNew",n).then((function(t){e.loading=!1,t.data.code===$.SUCCESS?(e.initPage(),e.showAdd=!1,e.fileList=new Array):$.error(t.data.code)})).catch((function(e){$.catchErr(e)}))}else $.error("err.enterForm")}))},handleCancel:function(){this.previewVisible=!1},handlePreview:function(e){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.previewImage=t.$axios.defaults.baseURL+"/file/image/"+e.response.id,t.previewVisible=!0;case 2:case"end":return a.stop()}}),a)})))()},handleChange:function(e){var t=e.fileList;this.fileList=t},showAlert:function(e){this.alertFlag=e,this.showAdd=!0},initPage:function(){this.initCols();var e=this;this.$axios.post("/admin/insect/initPage").then((function(t){t.data.code===$.SUCCESS?(e.insects=t.data.retMap.insects,e.types=t.data.retMap.types):$.error(t.data.code)})).catch((function(e){$.catchErr(e)}))},initCols:function(){var e=new Array;e.push({title:this.$t("insect.name"),dataIndex:"name",key:"name"}),e.push({title:this.$t("insect.type"),dataIndex:"typeid",key:"typeid",scopedSlots:{customRender:"typeid"}}),e.push({title:this.$t("insect.description"),dataIndex:"description",key:"description"}),e.push({title:this.$t("insect.feature"),dataIndex:"feature",key:"feature"}),e.push({title:this.$t("insect.biofeature"),dataIndex:"biofeature",key:"biofeature"}),e.push({title:this.$t("insect.economic"),dataIndex:"economic",key:"economic"}),e.push({title:this.$t("insect.distributed"),dataIndex:"distributed",key:"distributed"}),e.push({title:"operation",dataIndex:"operation",scopedSlots:{customRender:"operation"}}),this.columns=e}},computed:{uploadFile:function(){return this.$axios.defaults.baseURL+"/file/upload"}}}),ee=Z,te=(a("afd6"),Object(l["a"])(ee,W,X,!1,null,"2f3b585a",null)),ae=te.exports,ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"},attrs:{title:e.$t("insect.typeManager")}},[a("template",{slot:"extra"},[a("a-button",{key:"1",attrs:{type:"primary"},on:{click:function(t){e.showAdd=!0}}},[e._v(" "+e._s(e.$t("insect.add"))+" ")])],1)],2),a("a-table",{attrs:{columns:e.columns,"data-source":e.types}}),a("a-modal",{attrs:{title:e.$t("insect.add"),visible:e.showAdd},on:{ok:e.submitType,cancel:function(t){e.showAdd=!1}}},[a("a-form-model",{ref:"typeForm",attrs:{model:e.newType,rules:e.rules,"label-col":{span:2},"wrapper-col":{span:18}}},[a("a-form-model-item",{ref:"vdomain",attrs:{label:e.$t("insect.domain"),prop:"vdomain"}},[a("a-input",{model:{value:e.newType.vdomain,callback:function(t){e.$set(e.newType,"vdomain",t)},expression:"newType.vdomain"}})],1),a("a-form-model-item",{ref:"vkingdom",attrs:{label:e.$t("insect.kingdom"),prop:"vkingdom"}},[a("a-input",{model:{value:e.newType.vkingdom,callback:function(t){e.$set(e.newType,"vkingdom",t)},expression:"newType.vkingdom"}})],1),a("a-form-model-item",{ref:"vphylum",attrs:{label:e.$t("insect.phylum"),prop:"vphylum"}},[a("a-input",{model:{value:e.newType.vphylum,callback:function(t){e.$set(e.newType,"vphylum",t)},expression:"newType.vphylum"}})],1),a("a-form-model-item",{ref:"vclass",attrs:{label:e.$t("insect.class"),prop:"vclass"}},[a("a-input",{model:{value:e.newType.vclass,callback:function(t){e.$set(e.newType,"vclass",t)},expression:"newType.vclass"}})],1),a("a-form-model-item",{ref:"vorder",attrs:{label:e.$t("insect.order"),prop:"vorder"}},[a("a-input",{model:{value:e.newType.vorder,callback:function(t){e.$set(e.newType,"vorder",t)},expression:"newType.vorder"}})],1),a("a-form-model-item",{ref:"vfamily",attrs:{label:e.$t("insect.family"),prop:"vfamily"}},[a("a-input",{model:{value:e.newType.vfamily,callback:function(t){e.$set(e.newType,"vfamily",t)},expression:"newType.vfamily"}})],1),a("a-form-model-item",{ref:"vgenus",attrs:{label:e.$t("insect.genus"),prop:"vgenus"}},[a("a-input",{model:{value:e.newType.vgenus,callback:function(t){e.$set(e.newType,"vgenus",t)},expression:"newType.vgenus"}})],1),a("a-form-model-item",{ref:"vspecies",attrs:{label:e.$t("insect.species"),prop:"vspecies"}},[a("a-input",{model:{value:e.newType.vspecies,callback:function(t){e.$set(e.newType,"vspecies",t)},expression:"newType.vspecies"}})],1)],1)],1),a("v-loading",{attrs:{show:e.loading}})],1)},se=[],re={name:"insectType",components:{VLoading:V},data:function(){return{columns:[],types:[],showAdd:!1,loading:!1,newType:{vdomain:"真核生物域",vkingdom:"动物界",vphylum:"节肢动物门",vclass:"昆虫纲",vorder:"鞘翅目",vfamily:"科皮蠹",vgenus:"",vspecies:""},rules:{vdomain:[{required:!0,message:"Please input domain",trigger:"blur"}],vkingdom:[{required:!0,message:"Please input kingdom",trigger:"blur"}],vphylum:[{required:!0,message:"Please input phylum",trigger:"blur"}],vclass:[{required:!0,message:"Please input class",trigger:"blur"}],vorder:[{required:!0,message:"Please input order",trigger:"blur"}],vfamily:[{required:!0,message:"Please input family",trigger:"blur"}],vgenus:[{required:!0,message:"Please input genus",trigger:"blur"}],vspecies:[{required:!0,message:"Please input species",trigger:"blur"}]}}},beforeMount:function(){this.initPage()},methods:{submitType:function(){var e=this;this.$refs.typeForm.validate((function(t){if(t){var a={type:JSON.stringify(e.newType)};e.loading=!0,e.$axios.post("/admin/type/new",a).then((function(t){e.loading=!1,t.data.code===$.SUCCESS?(e.showAdd=!1,e.initPage()):$.error(t.data.code)})).catch((function(t){e.loading=!1,$.catchErr(t)}))}else $.error("err.enterForm")}))},initPage:function(){this.initCols();var e=this;this.$axios.post("/admin/insect/typeInitPage").then((function(t){t.data.code===$.SUCCESS?e.types=t.data.retMap.types:$.error(t.data.code)})).catch((function(e){$.catchErr(e)}))},initCols:function(){var e=new Array;e.push({title:this.$t("insect.domain"),dataIndex:"vdomain",key:"vdomain"}),e.push({title:this.$t("insect.kingdom"),dataIndex:"vkingdom",key:"vkingdom"}),e.push({title:this.$t("insect.phylum"),dataIndex:"vphylum",key:"vphylum"}),e.push({title:this.$t("insect.class"),dataIndex:"vclass",key:"vclass"}),e.push({title:this.$t("insect.order"),dataIndex:"vorder",key:"vorder"}),e.push({title:this.$t("insect.family"),dataIndex:"vfamily",key:"vfamily"}),e.push({title:this.$t("insect.genus"),dataIndex:"vgenus",key:"vgenus"}),e.push({title:this.$t("insect.species"),dataIndex:"vspecies",key:"vspecies"}),this.columns=e}}},ie=re,oe=Object(l["a"])(ie,ne,se,!1,null,"4cc833ce",null),le=oe.exports,ce={name:"insectmain",components:{InsectType:le,InsectManager:ae},data:function(){return{tab:"manager"}}},ue=ce,de=Object(l["a"])(ue,G,Q,!1,null,"255dfcb8",null),pe=de.exports,me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[0===e.noFinds.length?a("a-empty",{staticStyle:{"margin-top":"100px"}}):e._e(),a("div",{staticClass:"row"},e._l(e.noFinds,(function(t){return a("div",{key:t.id,staticClass:"col-3",staticStyle:{"margin-bottom":"30px"}},[a("a-card",{staticStyle:{width:"100%"},attrs:{hoverable:""}},[a("img",{attrs:{slot:"cover",alt:"example",src:e.fileImag(t.fileid)},slot:"cover"}),a("a-card-meta",{attrs:{title:e.$t("recognition.type")}},[a("template",{slot:"description"},[a("a-select",{staticStyle:{width:"60%"},model:{value:t.animalid,callback:function(a){e.$set(t,"animalid",a)},expression:"item.animalid"}},e._l(e.allAnimal,(function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1),a("a-button",{staticStyle:{width:"30%","margin-left":"5%"},attrs:{type:"primary",size:"small"},on:{click:function(a){return e.updateBuniss(t)}}},[e._v(" "+e._s(e.$t("confirm"))+" ")])],1)],2)],1)],1)})),0),a("v-loading",{attrs:{show:e.loading}})],1)},fe=[],he={name:"noRecogintion",components:{VLoading:V},data:function(){return{loading:!1,noFinds:[],allAnimal:[]}},beforeMount:function(){this.initPage()},methods:{initPage:function(){var e=this;this.$axios.post("/admin/insect/noFinds/init").then((function(t){t.data.code===$.SUCCESS?(e.noFinds=t.data.retMap.noFinds,e.allAnimal=t.data.retMap.allAnimal):$.error(t.data.code)})).catch((function(e){$.catchErr(e)}))},fileImag:function(e){return this.$axios.defaults.baseURL+"/file/image/"+e},updateBuniss:function(e){if(null!==e.animalid&&void 0!==e.animalid){var t={idt:JSON.stringify(e),status:"03"};this.loading=!0;var a=this;this.$axios.post("/admin/buss/update",t).then((function(e){a.loading=!1,e.data.code===$.SUCCESS?a.initPage():$.error(e.data.code)})).catch((function(e){a.loading=!1,$.catchErr(e)}))}else $.error("recognition.type")}},computed:{}},ge=he,be=Object(l["a"])(ge,me,fe,!1,null,"b72e0910",null),ve=be.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-divider",{attrs:{orientation:"left"}},[e._v(" "+e._s(e.$t("recognition.defaultImage"))+" ")]),a("div",{staticClass:"row"},e._l(e.images,(function(t){return a("div",{key:t.id,staticClass:"col-3",staticStyle:{"margin-bottom":"30px"}},[a("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.fileImag(t.id)}})])})),0),a("a-divider",{attrs:{orientation:"left"}},[e._v(" "+e._s(e.$t("recognition.recImage"))+" ")]),a("div",{staticClass:"row"},e._l(e.buss,(function(t){return a("div",{key:t.id,staticClass:"col-3",staticStyle:{"margin-bottom":"30px"}},[a("a-card",{staticStyle:{width:"100%"},attrs:{hoverable:""}},[a("img",{attrs:{slot:"cover",alt:"example",src:e.fileImag(t.fileid)},slot:"cover"}),a("a-card-meta",[a("template",{slot:"description"},[a("div",[e._v(" 地点："+e._s(t.vadress)+" ")]),a("a-select",{staticStyle:{width:"60%"},model:{value:t.animalid,callback:function(a){e.$set(t,"animalid",a)},expression:"item.animalid"}},e._l(e.animals,(function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1),a("a-button",{staticStyle:{width:"30%","margin-left":"5%"},attrs:{type:"primary",size:"small"},on:{click:function(a){return e.updateBuniss(t)}}},[e._v(" "+e._s(e.$t("confirm"))+" ")])],1)],2)],1)],1)})),0)],1)},we=[],ke={name:"recognition",props:{animalId:String,animals:Array},data:function(){return{buss:[],images:[]}},beforeMount:function(){this.initPage()},methods:{fileImag:function(e){return this.$axios.defaults.baseURL+"/file/image/"+e},initPage:function(){if(null!==this.animalId&&void 0!==this.animalId){var e={animalId:this.animalId},t=this;this.$axios.post("/admin/animal/init",e).then((function(e){e.data.code===$.SUCCESS?(t.buss=e.data.retMap.buss,t.images=e.data.retMap.images):$.error(e.data.code)})).catch((function(e){$.catchErr(e)}))}},updateBuniss:function(e){if(null!==e.animalid&&void 0!==e.animalid){var t={idt:JSON.stringify(e),status:"04"};this.loading=!0;var a=this;this.$axios.post("/admin/buss/update",t).then((function(e){a.loading=!1,e.data.code===$.SUCCESS?a.initPage():$.error(e.data.code)})).catch((function(e){a.loading=!1,$.catchErr(e)}))}else $.error("recognition.type")}},watch:{animalId:function(){this.initPage()}}},je=ke,$e=Object(l["a"])(je,ye,we,!1,null,"1eba8c84",null),xe=$e.exports,_e={name:"home",components:{Recognition:xe,NoRecogintion:ve,Insectmain:pe,UserManager:K,Language:M},data:function(){return{collapsed:!1,menu:"user",allAnimal:[],animalId:""}},beforeMount:function(){this.initPage()},methods:{initPage:function(){var e=this;this.$axios.post("/admin/insect/noFinds/init").then((function(t){t.data.code===$.SUCCESS?e.allAnimal=t.data.retMap.allAnimal:$.error(t.data.code)})).catch((function(e){$.catchErr(e)}))},changeMenu:function(e){console.log(e.key),e.key.startsWith("animal-")?(this.menu="animal",this.animalId=e.key.replaceAll("animal-","")):this.menu=e.key},exit:function(){this.$cookies.remove("token"),this.$cookies.remove("user"),window.location.reload()}},computed:{userName:function(){return this.$store.getters.getUser.name}}},Se=_e,Ie=(a("39b9"),Object(l["a"])(Se,C,U,!1,null,"e3c58d6e",null)),Ce=Ie.exports,Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-result",{attrs:{status:"404",title:"404","sub-title":"Sorry, the page you visited does not exist."},scopedSlots:e._u([{key:"extra",fn:function(){return[a("a-button",{attrs:{type:"primary"},on:{click:e.backHome}},[e._v(" Back Home ")])]},proxy:!0}])})},Ee=[],Pe={name:"errorPage",beforeMount:function(){this.$("body").css("background-image","none")},methods:{backHome:function(){this.$router.push("/home")}}},Te=Pe,Fe=Object(l["a"])(Te,Ue,Ee,!1,null,"04122523",null),Ae=Fe.exports;n["a"].use(d["a"]);var Me=[{path:"",redirect:"/home"},{path:"/",redirect:"/home"},{path:"/login",component:I,meta:{index:0}},{path:"/home",component:Ce,meta:{index:1}},{path:"/error",component:Ae,meta:{index:2}}],Oe=new d["a"]({routes:Me}),ze=Oe,Le=a("1157"),Re=a.n(Le),qe=(a("ab8b"),a("3e48"),a("bc3a")),Ne=a.n(qe),De=a("f23d"),Ve=(a("202f"),a("2b27")),Je=a.n(Ve),Be=a("2f62");n["a"].use(Be["a"]);var He=new Be["a"].Store({state:{user:{}},mutations:{saveUser:function(e,t){void 0==t&&(t={name:"hi",roles:[],group:{}}),e.user=t}},getters:{getUser:function(e){return e.user},isFeeder:function(e){for(var t=0;t<e.user.roles.length;t++){var a=e.user.roles[t];if("999999"==a.roletype||"02"==a.roletype)return!0}return!1},isReviewer:function(e){for(var t=0;t<e.user.s.length;t++){var a=e.user.roles[t];if("999999"==a.roletype||"40"==a.roletype)return!0}return!1},isAdmin:function(e){for(var t=0;t<e.user.roles.length;t++){var a=e.user.roles[t];if("999999"==a.roletype)return!0}return!1},isBioAna:function(e){for(var t=0;t<e.user.roles.length;t++){var a=e.user.roles[t];if("999999"==a.roletype||"34"==a.roletype)return!0}return!1},isGroupAdmin:function(e){if(e.user.group.groupadmin==e.user.id)return!0},isOther:function(e){for(var t=0;t<e.user.roles.length;t++){var a=e.user.roles[t];if("999999"==a.roletype||"09"==a.roletype)return!0}return!1},isCurrentUser:function(e){return function(t){if(e.user.id==t)return!0;for(var a=0;a<e.user.roles.length;a++){var n=e.user.roles[a];if("999999"==n.roletype)return!0}return!1}},isCurrentUserByName:function(e){return function(t){if(e.user.name==t)return!0;for(var a=0;a<e.user.roles.length;a++){var n=e.user.roles[a];if("999999"==n.roletype)return!0}return!1}}}});n["a"].use(De["a"]),n["a"].use(Je.a),n["a"].prototype.$=Re.a,n["a"].prototype.$axios=Ne.a,n["a"].prototype.$cookies=Je.a,Ne.a.defaults.baseURL="",Ne.a.interceptors.request.use((function(e){var t=Je.a.get("token");return t&&(e.headers["token"]=t),e}),(function(e){return console.log(e),Promise.reject(e)})),Ne.a.interceptors.response.use((function(e){return e}),(function(e){if(console.log(e),e.response)switch(e.response.status){case 401:return Je.a.remove("token"),ze.replace({path:"/login",query:{redirect:ze.currentRoute.fullPath}}),k["a"].error(w.t("logintimeover")),Promise.reject("转到登录啦！");default:break}ze.replace({path:"/error",query:{redirect:ze.currentRoute.fullPath}})})),ze.beforeEach((function(e,t,a){if("/register"===e.path)a();else if("/login"===e.path||"/"===e.path){var n=Je.a.get("token");"null"!=n&&""!=n&&null!=n?a("/home"):a()}else{var s=Je.a.get("token");"null"===s||""===s||null===s?a("/login"):a()}})),new n["a"]({i18n:w,store:He,router:ze,render:function(e){return e(u)}}).$mount("#app")},6986:function(e,t,a){},"6fa9":function(e,t,a){"use strict";a("0db6")},"85ec":function(e,t,a){},"8a9a":function(e,t,a){},afd6:function(e,t,a){"use strict";a("d8db")},d8db:function(e,t,a){}});
//# sourceMappingURL=app.fd28c11a.js.map